@using System
@model CMS.Mvc.ViewModels.Shared.PaginationViewModel

<div class="fullWidth2 padBtm padTop">
    @if (Model.TotalPages > 1)
    {
        <div class="paginationC">
            @if (Model.CurrentPage > 1)
            {
                <a href="@string.Format("{0}&{1}={2}", Model.BaseUrl, Model.PageArgName, Model.CurrentPage - 1)" class="prev"></a>
            }
            <a href="@string.Format("{0}&{1}={2}", Model.BaseUrl, Model.PageArgName, 1)">1</a>
            @if (Model.CurrentPage > 3)
            {
                <span class="nextGroup">...</span>
            }
            @for (int pageNumber = Math.Max(Model.CurrentPage - 1, 2); pageNumber <= Math.Min(Model.CurrentPage + 1, Model.TotalPages - 1); pageNumber++)
            {
                <a href="@string.Format("{0}&{1}={2}", Model.BaseUrl, Model.PageArgName, pageNumber)">@pageNumber</a>
            }
            @if (Model.TotalPages - Model.CurrentPage > 2)
            {
                <span class="nextGroup">...</span>
            }
            <a href="@string.Format("{0}&{1}={2}", Model.BaseUrl, Model.PageArgName, Model.TotalPages)">@Model.TotalPages</a>
            @if (Model.CurrentPage < Model.TotalPages)
            {
                <a href="@string.Format("{0}&{1}={2}", Model.BaseUrl, Model.PageArgName, Model.CurrentPage + 1)" class="next"></a>
            }
        </div>
    }
</div>
